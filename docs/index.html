<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">

    <meta name="robots" content="index, follow">
    <meta name="description" content="Get your time and timezone to your clipboard easily!">
    <meta name="keywords" content="time,timezone,know time,know timezone,easy">
    <meta name="theme-color" content="#2d536a">
    <meta name="copyright" content="PredaaA">
    <meta name="author" content="PredaaA">

    <meta property="og:url" content="https://whatismyti.me">
    <meta property="og:title" content="What is my time?">
    <meta property="og:description" content="Get your time and timezone to your clipboard easily!">
    <meta property="og:type" content="website">

    <meta property="twitter:url" content="https://whatismyti.me">
    <meta property="twitter:title" content="What is my time?">
    <meta property="twitter:description" content="Get your time and timezone to your clipboard easily!">

    <link rel="icon" href="favicon.ico">

    <title>What is my time?</title>

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Karla&display=swap" rel="stylesheet">
</head>

<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        background: #212529;
        color: #cfcfcf;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        height: 100vh;
        font-family: 'Karla', Arial, Helvetica, sans-serif;
    }

    h1 {
        font-size: 5vh;
    }

    @media (max-width: 507px) {
        h1 {
            font-size: 3vh;
        }
    }

    .copyable {
        cursor: pointer;
    }

    .container {
        width: 100%;
        display: flex;
        justify-content: center;
    }

    /* *yawns at being css noobie* */
    /* https://www.w3schools.com/howto/tryit.asp?filename=tryhow_js_snackbar */
    #thetoast {
        visibility: hidden;
        width: 300px;
        position: absolute;
        bottom: 30px;
        text-align: center;
        border-radius: 4px;
        background-color: #161616;
        color: #fff;
        font-size: 20px;
        padding: 16px;
        -webkit-box-shadow: 0px 0px 24px -1px #181818;
        -moz-box-shadow: 0px 0px 24px -1px #181818;
        box-shadow: 0px 0px 24px -1px #181818;
    }

    #thetoast.show {
        visibility: visible;
        -webkit-animation: fadein 0.5s, fadeout 0.5s 2.5s;
        animation: fadein 0.5s, fadeout 0.5s 2.5s;
    }

    @-webkit-keyframes fadein {
        from {
            bottom: 0;
            opacity: 0;
        }

        to {
            bottom: 30px;
            opacity: 1;
        }
    }

    @keyframes fadein {
        from {
            bottom: 0;
            opacity: 0;
        }

        to {
            bottom: 30px;
            opacity: 1;
        }
    }

    @-webkit-keyframes fadeout {
        from {
            bottom: 30px;
            opacity: 1;
        }

        to {
            bottom: 0;
            opacity: 0;
        }
    }

    @keyframes fadeout {
        from {
            bottom: 30px;
            opacity: 1;
        }

        to {
            bottom: 0;
            opacity: 0;
        }
    }
</style>

<body>
    <main>
        <div class="container">
            <h1>
                <p>It is <abbr title="Click to copy to clipboard" onclick="copyToClipboard('#user-time')"
                        class="copyable" id="user-time">???</abbr> <span id="user-time-emoji"></span></p>
                <p>You are in <abbr title="Click to copy to clipboard" onclick="copyToClipboard('#user-timezone')"
                        class="copyable" id="user-timezone">???</abbr>
                    timezone</p>
            </h1>
            <div id="thetoast"></div>
        </div>
    </main>
    <script>
        // Don't look too close to my shitty js okay :kappa:
        function getDateTime() {
            var now = new Date();
            var year = now.getFullYear();
            var month = now.getMonth() + 1;
            var day = now.getDate();
            var hour = now.getHours();
            var minute = now.getMinutes();
            var second = now.getSeconds();
            if (month.toString().length == 1) {
                month = '0' + month;
            }
            if (day.toString().length == 1) {
                day = '0' + day;
            }
            if (hour.toString().length == 1) {
                hour = '0' + hour;
            }
            if (minute.toString().length == 1) {
                minute = '0' + minute;
            }
            if (second.toString().length == 1) {
                second = '0' + second;
            }
            return [`${hour}:${minute}:${second} (${year}/${month}/${day})`, hour > 7 && hour < 20];
        }

        function getTimeEmoji(isDay) {
            emojiElement = document.getElementById('user-time-emoji');
            if (isDay) {
                emojiElement.innerHTML = "☀️";
            } else {
                emojiElement.innerHTML = "🌑";
            }
        }

        function showToast(text) {
            var toast = document.getElementById('thetoast');
            toast.className = "show";
            toast.innerHTML = text;
            setTimeout(function () { toast.className = toast.className.replace('show', ''); }, 3000);
        }

        function copyToClipboard(element) {
            var query = document.querySelector(element);
            navigator.clipboard.writeText(query.textContent);
            showToast('Copied to clipboard! 🎉');
        }

        function updateTime() {
            const datetime = getDateTime();
            document.getElementById('user-time').innerHTML = datetime[0];
            document.getElementById('user-timezone').innerHTML = Intl.DateTimeFormat().resolvedOptions().timeZone;
            getTimeEmoji(datetime[1]);
        }

        updateTime();
        showToast('Click on underlined text to copy it to your clipboard! 👀');

        setInterval(function () { updateTime() }, 1000);
    </script>
</body>

</html>